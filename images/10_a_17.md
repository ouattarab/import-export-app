
Migration de Angular 10 √† Angular 17 - Documentation Compl√®te

1. Pr√©-requis avant la migration
- S'assurer que tous les tests passent sur votre application Angular 10.
- Faire une sauvegarde de votre projet ou travailler sur une branche sp√©cifique `migration/angular-17`.
- Avoir Node.js >= 18.13 et npm >= 8.19.3.

---

2. Migration de Angular 10 √† Angular 11

Mise √† jour du CLI
```bash
npm install -g @angular/cli@11
```

Mise √† jour du projet
Avant chaque migration majeure, **ex√©cuter toujours `ng update`** pour que Angular propose les commandes adapt√©es √† votre projet.
```bash
ng update
```
Puis :
```bash
ng update @angular/core@11 @angular/cli@11
```

Points de vigilance
- **Optimisation des performances** : Angular 11 introduit de nouvelles optimisations pour la construction des applications (par exemple, le build incr√©mental).
- **TypeScript 4.0** : Angular 11 exige TypeScript 4.0. Assurez-vous que votre projet est compatible.

Modifications √©ventuelles dans le code
- Assurez-vous que les imports de `@angular/forms` et `@angular/router` sont mis √† jour.
- Il peut y avoir des modifications pour certains composants Angular Material en fonction des versions utilis√©es.

---

3. Migration de Angular 11 √† Angular 12

Mise √† jour du CLI
```bash
npm install -g @angular/cli@12
```

Mise √† jour du projet
Ex√©cutez les commandes de mise √† jour recommand√©es :
```bash
ng update
```
Puis :
```bash
ng update @angular/core@12 @angular/cli@12
```

Points de vigilance
- **WebPack 5** : Angular 12 adopte WebPack 5, donc certaines configurations de build peuvent n√©cessiter des ajustements.
- **Migration vers Ivy** : Bien que Ivy soit activ√© par d√©faut depuis Angular 9, des optimisations suppl√©mentaires sont apport√©es dans Angular 12, notamment en mati√®re de taille de bundle.

Modifications √©ventuelles dans le code
- Si vous avez des d√©pendances personnalis√©es ou des configurations Webpack personnalis√©es, vous devrez peut-√™tre les mettre √† jour.

---

4. Migration de Angular 12 √† Angular 13

Mise √† jour du CLI
```bash
npm install -g @angular/cli@13
```

Mise √† jour du projet
Encore une fois, avant toute mise √† jour :
```bash
ng update
```
Puis :
```bash
ng update @angular/core@13 @angular/cli@13
```

Points de vigilance
- **Mise √† jour de TypeScript** : Angular 13 n√©cessite TypeScript 4.4.
- **Support de l‚ÄôAPI Web Vitals** : Nouvelle fonctionnalit√© pour le suivi de la performance de l'application.

---

5. Migration de Angular 13 √† Angular 14

Mise √† jour du CLI
```bash
npm install -g @angular/cli@14
```

Mise √† jour du projet
```bash
ng update
```
Puis :
```bash
ng update @angular/core@14 @angular/cli@14
```

Points de vigilance
- **Am√©liorations de performance** : Angular 14 am√©liore la gestion du rendu c√¥t√© serveur et l'optimisation du changement de d√©tection.
- **Lazy loading am√©lior√©** : Angular 14 am√©liore la prise en charge du lazy loading dans les applications complexes.

---

6. Migration de Angular 14 √† Angular 15

Mise √† jour du CLI
```bash
npm install -g @angular/cli@15
```

Mise √† jour du projet
```bash
ng update
```
Puis :
```bash
ng update @angular/core@15 @angular/cli@15
```

Points de vigilance
- **Standalone Components** : Angular 15 commence √† exp√©rimenter avec les standalone components. Vous pouvez commencer √† migrer vos composants √† ce format, mais cela n'est pas obligatoire.
- **D√©pr√©ciation d'APIs** : Certaines APIs Angular commencent √† √™tre d√©pr√©ci√©es. Il est important de v√©rifier si vous utilisez des APIs obsol√®tes dans votre code.

---

7. Migration de Angular 15 √† Angular 16

Mise √† jour du CLI
```bash
npm install -g @angular/cli@16
```

Mise √† jour du projet
Avant chaque mise √† jour :
```bash
ng update
```
Puis :
```bash
ng update @angular/core@16 @angular/cli@16
```

Points de vigilance
- **Standalone Components** : Angular 16 introduit les standalone components de mani√®re officielle.
- **HttpClient** : Le support pour `withCredentials` est mieux int√©gr√©.
- **Signals** : Introduit exp√©rimentalement pour simplifier la gestion des √©tats r√©actifs dans l‚Äôapplication.

---

8. Migration de Angular 16 √† Angular 17

Mise √† jour du CLI
```bash
npm install -g @angular/cli@17
```

Mise √† jour du projet
Encore une fois :
```bash
ng update
```
Puis :
```bash
ng update @angular/core@17 @angular/cli@17
```

Points de vigilance
- **Standalone Components recommand√©s par d√©faut** : Angular 17 met fortement en avant l‚Äôutilisation des standalone components.
- **Routeur refondu** : Nouveau syst√®me de d√©finition des routes avec `provideRouter()`.
- **Am√©liorations du SSR** : Si vous utilisez le rendu c√¥t√© serveur, des am√©liorations de l‚Äôhydratation sont disponibles.

Modifications dans le code
- **Standalone Components** : Nouveaux composants plus simples √† cr√©er.
- **Routing** : Nouvelle mani√®re de d√©clarer les routes :
  - Ancienne :
    ```typescript
    RouterModule.forRoot(routes)
    ```
  - Nouvelle :
    ```typescript
    provideRouter(routes)
    ```

---

9. Mise √† jour des packages tiers
Mettre √† jour toutes les biblioth√®ques externes compatibles avec Angular 17 (par exemple : Angular Material, ngx-translate, etc.). 
N'oubliez pas de consulter chaque changelog pour √©viter des incompatibilit√©s.

---

10. Tests post-migration
- Relancer `ng build` pour v√©rifier qu'il n'y a pas d'erreurs.
- Relancer tous les tests unitaires et d‚Äôint√©gration.
- V√©rifier le fonctionnement de l'application manuellement.

---

11. Bonus : Passage √† `esbuild`
Angular 17 recommande l‚Äôusage de `esbuild` pour un build beaucoup plus rapide.

Activer dans `angular.json` :
```json
"builder": "@angular-devkit/build-angular:application-esbuild"
```

---

**F√©licitations ! üéâ Vous avez migr√© de Angular 10 √† Angular 17 !**

---

**Checklist rapide :**
- [x] `ng update @angular/core @angular/cli`
- [x] Corrections du code (HttpParams, Standalone Components si besoin)
- [x] Mise √† jour des librairies externes
- [x] Tests OK
- [x] Build OK

--- 


